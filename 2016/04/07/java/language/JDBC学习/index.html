<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="è¿™æ˜¯æœ¨æ‰çš„ä¸ªäººåšå®¢"><title>JDBCå­¦ä¹  | æœ¨æ‰çš„åšå®¢</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/6.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?ec7ecb4616a008addeb60c9709230453";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();</script></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">JDBCå­¦ä¹ </h1><a id="logo" href="/.">æœ¨æ‰çš„åšå®¢</a><p class="description">è¦ä¹ˆç²¾é€šï¼Œè¦ä¹ˆæ­»</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> é¦–é¡µ</i></a><a href="/archives/"><i class="fa fa-archive"> å½’æ¡£</i></a><a href="/about/"><i class="fa fa-user"> å…³äº</i></a><a href="/atom.xml"><i class="fa fa-rss"> è®¢é˜…</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">JDBCå­¦ä¹ </h1><div class="post-meta">Apr 7, 2016<span> | </span><span class="category"><a href="/categories/Java/">Java</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> é˜…è¯»</span></span></div><a data-disqus-identifier="2016/04/07/java/language/JDBCå­¦ä¹ /" href="/2016/04/07/java/language/JDBCå­¦ä¹ /#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><h2 id="æ–°å»ºä¸€ä¸ªjdbcå·¥ç¨‹"><a href="#æ–°å»ºä¸€ä¸ªjdbcå·¥ç¨‹" class="headerlink" title="æ–°å»ºä¸€ä¸ªjdbcå·¥ç¨‹"></a>æ–°å»ºä¸€ä¸ªjdbcå·¥ç¨‹</h2><p>æ–°å»ºä¸€ä¸ªjdbc demoæ¥ä½“éªŒä¸€ä¸‹æµç¨‹ã€‚</p>
<p>å‰æå‡†å¤‡ï¼š</p>
<ul>
<li>è™šæ‹Ÿæœºä¸­å®‰è£…mysqlï¼Œè™šæ‹ŸæœºIPï¼š192.168.33.10</li>
<li>å»ºç«‹å¯ä»¥è¿œç¨‹è®¿é—®çš„ç”¨æˆ·mushanï¼Œå¯†ç 111(æ¼”ç¤ºç”¨)</li>
</ul>
<p>ä¸Šé¢çš„æ“ä½œå¯ä»¥å‚è€ƒï¼š<a href="http://mushanshitiancai.github.io/2016/04/10/mysql/%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEmysql/">å®‰è£…é…ç½®mysql | æœ¨æ‰çš„åšå®¢</a></p>
<p>ç”¨mavenå»ºç«‹ä¸€ä¸ªjdbcå·¥ç¨‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn archetype:generate -B -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-quickstart -DgroupId=com.mushan -DartifactId=mvn-jdbc-test -Dversion=0.0.1SHNAPSHOT -Dpackage=com.mushan</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥åœ¨eclispeä¸­åˆ›å»ºmavenå·¥ç¨‹ï¼Œæ›´æ–¹ä¾¿ã€‚</p>
<p>æ·»åŠ mysqlé©±åŠ¨ç¨‹åºä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.38<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¿è¡Œ<code>mvn package</code>å®‰è£…ä¾èµ–ã€‚</p>
<p>ä¸€æ¬¡å®Œæ•´çš„æ•°æ®åº“æ“ä½œæµç¨‹ï¼š</p>
<ul>
<li>åˆå§‹åŒ–æ•°æ®åº“é©±åŠ¨</li>
<li>ä½¿ç”¨<code>DriverManager.getConnection()</code>å»ºç«‹åˆ°æ•°æ®åº“çš„è¿æ¥</li>
<li>ä½¿ç”¨<code>connection.createStatement()</code>å»ºç«‹è¯­å¥ç±»å®ä¾‹(Statement)</li>
<li>ä½¿ç”¨<code>statement.executeQuery()</code>æ‰§è¡ŒSQLè¯­å¥è·å–ResultSetå¯¹è±¡å®ä¾‹</li>
<li>ä»ResultSetå¯¹è±¡å®ä¾‹ä¸­è·å–ç»“æœ</li>
</ul>
<p>ç®€åŒ–ç‰ˆï¼šè·å–è¿æ¥â†’åˆ›å»ºStatementâ†’æ‰§è¡Œæ•°æ®åº“æ“ä½œâ†’è·å–ç»“æœâ†’å…³é—­Statementâ†’å…³é—­ç»“æœé›†â†’å…³é—­è¿æ¥ã€‚</p>
<p><strong>é—®é¢˜ï¼š</strong> ã€TODOã€‘ <code>å…³é—­Statementâ†’å…³é—­ç»“æœé›†â†’å…³é—­è¿æ¥</code>ï¼Œè¿™ä¸ªé¡ºåºæ˜¯å›ºå®šçš„ä¹ˆï¼Ÿæˆ‘åœ¨åˆ«çš„åœ°æ–¹çœ‹åˆ°äº†<code>å…³é—­ç»“æœé›†â†’å…³é—­Statementâ†’å…³é—­è¿æ¥</code>ï¼Œå“ªä¸ªæ˜¯å¯¹çš„ï¼Ÿ</p>
<p>å¯¹åº”çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.mushan;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.DriverManager;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">( String[] args )</span> <span class="keyword">throws</span> ClassNotFoundException, SQLException</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    Class.forName(<span class="string">"com.mysql.jdbc.Driver"</span>);</span><br><span class="line">    String url=<span class="string">"jdbc:mysql://192.168.33.10:3306/jdbc_test"</span>;</span><br><span class="line">    String user=<span class="string">"mushan"</span>;<span class="comment">//ç”¨æˆ·å</span></span><br><span class="line">    String pwd=<span class="string">"111"</span>;<span class="comment">//å¯†ç </span></span><br><span class="line">    Connection con=DriverManager.getConnection(url,user,pwd);</span><br><span class="line">    Statement stmt = con.createStatement();</span><br><span class="line">    ResultSet rs = stmt.executeQuery(<span class="string">"show tables;"</span>);<span class="comment">//æŸ¥è¯¢,è¿”å›ç»“æœé›†</span></span><br><span class="line">    <span class="keyword">while</span>(rs.next())&#123;</span><br><span class="line">        System.out.println(rs.getString(<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    rs.close();</span><br><span class="line">    stmt.close();</span><br><span class="line">    con.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œä»£ç ï¼š</p>
<pre><code>$ mvn compile
$ mvn exec:java -Dexec.mainClass=&quot;com.mushan.App&quot;  -Dexec.cleanupDaemonThreads=false
</code></pre><p>è¾“å‡º<code>jdbc_test</code>ä¸­çš„è¡¨ã€‚æˆåŠŸï¼</p>
<p>ä¹‹åæ”¹ç”¨IDEäº†ï¼Œç›´æ¥å‘½ä»¤è¡Œå†™Javaå¤ªéº»çƒ¦äº†ã€‚</p>
<p><strong>é—®é¢˜ï¼š</strong></p>
<ul>
<li><p>executeQuery()ä¸­çš„SQLè¯­å¥å¯ä»¥ä¸åŠ åˆ†å·ä¹ˆ?</p>
<p>å¯ä»¥</p>
</li>
<li><p>statementå¯¹è±¡å¯ä»¥å¤ç”¨ä¹ˆï¼ˆè¿›è¡Œå¤šæ¬¡æŸ¥è¯¢ï¼‰ï¼Ÿ</p>
<p>å¯ä»¥</p>
</li>
</ul>
<h2 id="jdbc-api"><a href="#jdbc-api" class="headerlink" title="jdbc api"></a>jdbc api</h2><p>jdbcä¸»è¦çš„æ¥å£æœ‰ï¼š</p>
<ul>
<li>java.sql.DriverManager</li>
<li>java.sql.Connection</li>
<li>java.sql.Statement</li>
<li>java.sql.ResultSet</li>
<li>java.sql.PreparedStatement</li>
<li>java.sql.CallableStatement</li>
<li>java.sql.SQLException</li>
<li>java.sql.SQLWarning</li>
<li>java.sql.Time</li>
<li>java.sql.Timestamp</li>
<li>java.sql.Types</li>
<li>java.sql.DatabaseMetaData</li>
</ul>
<h3 id="java-sql-DriverManager"><a href="#java-sql-DriverManager" class="headerlink" title="java.sql.DriverManager"></a>java.sql.DriverManager</h3><p>é©±åŠ¨ç®¡ç†ã€‚å¯ä»¥ç”¨DriverManageræ¥è·å–å…·ä½“çš„æ•°æ®åº“é©±åŠ¨ã€‚</p>
<h3 id="java-sql-Connection"><a href="#java-sql-Connection" class="headerlink" title="java.sql.Connection"></a>java.sql.Connection</h3><p>æ•°æ®åº“é©±åŠ¨å»ºç«‹è¿æ¥åè·å–çš„è¿æ¥å¯¹è±¡ï¼Œå¯ä»¥ç”¨è¿æ¥å¯¹è±¡è·å–Statementå¯¹è±¡ï¼Œè¿›è¡Œè¿›è¡Œæ•°æ®åº“æ“ä½œã€‚</p>
<p>å¸¸ç”¨æ–¹æ³•ï¼š</p>
<ul>
<li>close()                      å…³é—­è¿æ¥</li>
<li>commit()                     æäº¤ï¼ˆäº‹åŠ¡ï¼Ÿï¼‰</li>
<li>rollback()                   å›æ»šï¼ˆäº‹åŠ¡ï¼Ÿï¼‰</li>
<li>createStatement()            åˆ›å»ºStatementå¯¹è±¡</li>
<li>prepareStatement(String sql) è¿”å›PrepareStatementå¯¹è±¡</li>
<li>setAutoCommit(Boolean autoCommit) è®¾ç½®æ˜¯å¦è‡ªåŠ¨æäº¤</li>
</ul>
<h3 id="java-sql-Statement"><a href="#java-sql-Statement" class="headerlink" title="java.sql.Statement"></a>java.sql.Statement</h3><p>å¸¸ç”¨æ–¹æ³•ï¼š</p>
<ul>
<li>close()                     å…³é—­Statementå¯¹è±¡</li>
<li>executeQuery(String sql)    æ‰§è¡ŒæŸ¥è¯¢sqlï¼Œè¿”å›ResultSetå¯¹è±¡</li>
<li>executeUpdate(String sql)   æ‰§è¡Œæ›´æ–°sqlï¼Œè¿”å›æ›´æ–°çš„è¡Œæ•°</li>
<li>execute(String sql)         æ‰§è¡Œä»»æ„sqlï¼Œè¿”å›boolå€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è¿”å›äº†ResultSetå¯¹è±¡</li>
<li>getResultSet()              è·å–ResultSetå¯¹è±¡</li>
</ul>
<p><strong>é—®é¢˜ï¼š</strong></p>
<ul>
<li><p>executeQuery()æ‰§è¡Œæ›´æ–°æ“ä½œæ˜¯ä»€ä¹ˆä¸‹åœºï¼Ÿ</p>
<pre><code>Exception in thread &quot;main&quot; java.sql.SQLException: Can not issue data manipulation statements with executeQuery().
</code></pre><p>  ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸è¡Œã€‚</p>
</li>
<li><p>executeUpdate()æ‰§è¡ŒæŸ¥è¯¢æ“ä½œæ˜¯ä»€ä¹ˆä¸‹åœºï¼Ÿ</p>
<pre><code>Exception in thread &quot;main&quot; java.sql.SQLException: Can not issue SELECT via executeUpdate() or executeLargeUpdate().
</code></pre><p>  ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸è¡Œã€‚</p>
</li>
<li><p>getResultSet()åªä¼šè¿”å›execute()çš„ç»“æœä¹ˆï¼Ÿ</p>
<p>  å››ç§æƒ…å†µï¼š</p>
<ul>
<li>è·å¾—Statementåç›´æ¥getResultSet  - null</li>
<li>æ‰§è¡ŒexecuteQueryågetResultSet  - æ— è®ºexecuteQueryç»“æœå¦‚ä½•ï¼Œéƒ½æ˜¯ç©ºç»“æœé›†</li>
<li>æ‰§è¡ŒexecuteUpdateågetResultSet - null</li>
<li>æ‰§è¡ŒexecuteågetResultSet       - å¦‚æœæ˜¯æŸ¥è¯¢è¯­å¥ï¼Œnullï¼Œå¦‚æœæ˜¯æ›´æ–°è¯­å¥ï¼Œåˆ™æ˜¯è¿”å›çš„ç»“æœé›†</li>
</ul>
</li>
</ul>
<h3 id="java-sql-PreparedStatement"><a href="#java-sql-PreparedStatement" class="headerlink" title="java.sql.PreparedStatement"></a>java.sql.PreparedStatement</h3><p>PreparedStatementæ˜¯é¢„ç¼–è¯‘çš„Statementå¯¹è±¡ã€‚å› ä¸ºæ˜¯é¢„ç¼–è¯‘ï¼Œæ‰€ä»¥æ•ˆç‡é«˜ä¸€ç‚¹ã€‚ä¹Ÿæ˜¯å› ä¸ºè¿™ä¸ªï¼Œæ‰€ä»¥åœ¨è·å–è¯­å¥å¯¹è±¡çš„æ—¶å€™å°±è¦æŒ‡å®šsqlè¯­å¥ã€‚å¯¹äºè¯­å¥ä¸­çš„å˜é‡ï¼Œå¯ä»¥ä½¿ç”¨<code>?</code>æ¥å ä½ï¼Œä¹‹åå†è®¾ç½®ä¸ºå…·ä½“çš„å€¼ã€‚</p>
<p>å¸¸ç”¨æ–¹æ³•ï¼š</p>
<ul>
<li>close()            å…³é—­è¿æ¥</li>
<li>executeQuery()     æ‰§è¡ŒæŸ¥è¯¢sqlï¼Œè¿”å›ResultSetå¯¹è±¡</li>
<li>executeUpdate()    æ‰§è¡Œæ›´æ–°sqlï¼Œè¿”å›æ›´æ–°çš„è¡Œæ•°</li>
<li>execute()          æ‰§è¡Œä»»æ„sqlï¼Œè¿”å›boolå€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è¿”å›äº†ResultSetå¯¹è±¡</li>
<li>setBoolean(int paramIndex, boolean x)    æ›¿æ¢?æŒ‡å®šçš„å‚æ•°ï¼ŒparamIndexæŒ‡å®šæ˜¯ç¬¬å‡ ä¸ª?</li>
<li>setâ€¦                                   ä¸åŒç±»å‹æœ‰ä¸åŒçš„setå‡½æ•°</li>
<li>setDate(int paramIndex, java.sql.Date x) </li>
<li>setTime(int paramIndex, java.sql.Time x)</li>
<li>setObject(int paramIndex, Object x)</li>
</ul>
<p><strong>é—®é¢˜ï¼š</strong></p>
<ul>
<li><p>ä¸è®¾ç½®å‚æ•°æ‰§è¡Œä¼šé‡åˆ°ä»€ä¹ˆé—®é¢˜ï¼Ÿ</p>
<pre><code>Exception in thread &quot;main&quot; java.sql.SQLException: No value specified for parameter 1
</code></pre></li>
</ul>
<h3 id="java-sql-CallableStatement"><a href="#java-sql-CallableStatement" class="headerlink" title="java.sql.CallableStatement"></a>java.sql.CallableStatement</h3><p>CallableStatementæ˜¯ç”¨æ¥è°ƒç”¨å­˜å‚¨è¿‡ç¨‹çš„ã€‚</p>
<h3 id="java-sql-ResultSet"><a href="#java-sql-ResultSet" class="headerlink" title="java.sql.ResultSet"></a>java.sql.ResultSet</h3><p>å¸¸ç”¨æ–¹æ³•ï¼š</p>
<ul>
<li>next()</li>
<li>getInt()</li>
</ul>
<h2 id="å…³é—­è¿æ¥"><a href="#å…³é—­è¿æ¥" class="headerlink" title="å…³é—­è¿æ¥"></a>å…³é—­è¿æ¥</h2><p>å‚è€ƒï¼š<a href="http://k1121.iteye.com/blog/1279063" target="_blank" rel="noopener">JDBCæ•°æ®åº“è¿æ¥æ± connectionå…³é—­åStatementå’ŒResultSetæœªå…³é—­çš„é—®é¢˜ - k1121 - ITeyeæŠ€æœ¯ç½‘ç«™</a></p>
<p>æ ¹æ®JDBCè§„èŒƒï¼š</p>
<blockquote>
<p>JDBC. 4.0 Specificationâ€”â€”13.1.4 Closing Statement Objects </p>
<p>An application calls the method Statement.close to indicate that it has finished processing a statement. All Statement objects will be closed when the connection that created them is closed. However, it is good coding practice for applications to close statements as soon as they have finished processing them. This allows any external resources that the statement is using to be released immediately.<br>å¯ä»¥é€šè¿‡Statement.closeæ¥æ˜¾å¼å…³é—­statementã€‚è®©åˆ›å»ºstatementçš„è¿æ¥å…³é—­åï¼Œæ‰€æœ‰å¯¹åº”çš„statementéƒ½ä¼šè¢«å…³é—­ã€‚ä½†æ˜¯åœ¨ä½¿ç”¨å®Œstatementåå°±å…³é—­ä»–ä»¬æ˜¯æœ€ä½³å®è·µï¼Œå› ä¸ºè¿™æ ·å¯ä»¥é‡Šæ”¾statementå ç”¨çš„å¤–éƒ¨èµ„æºã€‚</p>
<p>Closing a Statement object will close and invalidate any instances of ResultSet produced by that Statement object. The resources held by the ResultSet object may not be released until garbage collection runs again, so it is a good practice to explicitly close ResultSet objects when they are no longer needed.<br>å…³é—­Statementå¯¹è±¡ä¼šå…³é—­è¿™ä¸ªstatementå¯¹è±¡åˆ›å»ºçš„æ‰€æœ‰ResultSetå¯¹è±¡ã€‚ä½†æ˜¯ResultSetå¯¹è±¡æŒæœ‰çš„èµ„æºä¼šåœ¨ä¸‹ä¸€æ¬¡åƒåœ¾å›æ”¶çš„æ—¶å€™æ‰ä¼šè¢«é‡Šæ”¾ã€‚æ‰€ä»¥åœ¨ä½¿ç”¨å®Œåå°±å…³é—­ResultSetå¯¹è±¡æ˜¯ä¸€ä¸ªæœ€ä½³å®è·µã€‚</p>
<p>Once a Statement has been closed, any attempt to access any of its methods with the exception of the is Closed or close methods will result in a SQLException being thrown.<br>ä¸€æ—¦Statementè¢«å…³é—­ï¼Œæ“ä½œä»–çš„æœ‰äº›æ–¹æ³•ä¼šæŠ›å‡ºSQLExceptionã€‚</p>
<p>These comments about closing Statement objects apply to PreparedStatement and CallableStatement objects as well.<br>ä¸Šé¢è¯´çš„å¯¹äºPreparedStatementå’ŒCallableStatementåŒæ ·é€‚ç”¨ã€‚</p>
</blockquote>
<p><strong>é—®é¢˜ï¼š</strong></p>
<ul>
<li>é€šè¿‡Statementå…³é—­è€Œå…³é—­ResultSetä¸ä¼šé‡Šæ”¾èµ„æºæ˜¯ä»€ä¹ˆå¿—æ„¿ã€‚å’Œä¸»åŠ¨close ResultSetä¸ä¸€æ ·ï¼Ÿ</li>
<li><code>any attempt to access any of its methods with the exception of the is Closed or close methods will result in a SQLException being thrown</code>è¿™å¥è¯è¯´closeä¹Ÿä¼šè§¦å‘å¼‚å¸¸ï¼Œä½†æ˜¯å…¶å®ä¸ä¼šï¼Œä¸ºä»€ä¹ˆã€‚</li>
</ul>
<p>ä¾‹å­ï¼šå¦‚æœä½ åœ¨å…³é—­äº†Statementåç»§ç»­æ“ä½œä¹‹å‰ç”Ÿæˆçš„ResultSetå°±ä¼šè§¦å‘å¼‚å¸¸ï¼š</p>
<pre><code>Exception in thread &quot;main&quot; java.sql.SQLException: Operation not allowed after ResultSet closed
</code></pre><p>ä¸€ä¸ªå…³é—­è¿æ¥çš„è‰¯å¥½ä¾‹å­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">public static void close(Connection con,Statement stmt,ResultSet rs)&#123;</span><br><span class="line">    if(rs != null)&#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            rs.close();      // å…³é—­ç»“æœé›†</span><br><span class="line">        &#125; catch (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; finally &#123;</span><br><span class="line">            if(stmt != null)&#123;</span><br><span class="line">                try &#123;</span><br><span class="line">                    stmt.close();    // å…³é—­</span><br><span class="line">                &#125;catch (SQLException e)&#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125; finally &#123;</span><br><span class="line">                    if(con != null)&#123;</span><br><span class="line">                        try &#123;</span><br><span class="line">                            con.close();</span><br><span class="line">                        &#125; catch (SQLException e) &#123;</span><br><span class="line">                            e.printStackTrace();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul>
<li>ã€ŠJavaæ•°æ®åº“è¯¦è§£ã€‹</li>
<li><a href="http://www.cnblogs.com/taoweiji/archive/2012/12/11/2812295.html" target="_blank" rel="noopener">åœ¨eclipseå¯¼å…¥Java çš„jaråŒ…çš„æ–¹æ³• JDBCã€å›¾æ–‡è¯´æ˜ã€‘ - é™¶ä¼ŸåŸºWiki - åšå®¢å›­</a></li>
<li><a href="http://docs.oracle.com/javase/7/docs/technotes/guides/jdbc/" target="_blank" rel="noopener">Java SE 7 Java Database Connectivity (JDBC)-related APIs &amp; Developer Guides</a></li>
</ul>
</div><div class="reward"><hr><div class="text">å¦‚æœè§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œå°±æ‰“èµæ¯å’–å•¡é’±å‘—ğŸ˜Š</div><img src="/img/reward/weixin.png"><img src="/img/reward/alipay.png"></div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://mushanshitiancai.github.io/2016/04/07/java/language/JDBCå­¦ä¹ /" data-id="cjk9t3j3b00e6gd31byu4hlgm" class="article-share-link">åˆ†äº«</a><div class="tags"><a href="/tags/java/">java</a></div><div class="post-nav"><a href="/2016/04/10/linux/Vagrantç¬”è®°-å®‰è£…é…ç½®/" class="pre">Vagrantç¬”è®°-å®‰è£…é…ç½®</a><a href="/2016/04/04/project/pp-swordæ€»ç»“/" class="next">pp-swordæ€»ç»“</a></div><div id="disqus_thread"><div class="btn_click_load"><button class="disqus_click_btn">é˜…è¯»è¯„è®º ã€Œè¯·ç¡®ä¿ disqus.com å¯ä»¥æ­£å¸¸åŠ è½½ã€</button></div><script>var disqus_shortname = 'mushan';
var disqus_identifier = '2016/04/07/java/language/JDBCå­¦ä¹ /';
var disqus_title = 'JDBCå­¦ä¹ ';
var disqus_url = 'http://mushanshitiancai.github.io/2016/04/07/java/language/JDBCå­¦ä¹ /';
$('.btn_click_load').click(function() {
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
  $('.btn_click_load').css('display','none');
});
$.ajax({
  url: 'https://disqus.com/favicon.ico',
  timeout: 3000,
  type: 'GET',
  success: (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    $('.btn_click_load').css('display','none');
  })(),
  error: function() {
    $('.btn_click_load').css('display','block');
  }
});</script><script id="dsq-count-scr" src="//mushan.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://mushanshitiancai.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> åˆ†ç±»</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Docker/">Docker</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Java/Groovy/">Groovy</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/JDKæºç é˜…è¯»/">JDKæºç é˜…è¯»</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/Spring/">Spring</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/æŒæ¡Java/">æŒæ¡Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/è°ƒè¯•/">è°ƒè¯•</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/TypeScript/">TypeScript</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/MongoDB/">MongoDB</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/RabbitMQ/">RabbitMQ</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tomcat/">Tomcat</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/electron/">electron</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/">web</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/è‡ªåŠ¨åŒ–/">è‡ªåŠ¨åŒ–</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/è‡ªå·±åŠ¨æ‰‹å†™æ“ä½œç³»ç»Ÿ/">è‡ªå·±åŠ¨æ‰‹å†™æ“ä½œç³»ç»Ÿ</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> æ ‡ç­¾</i></div><div class="tagcloud"><a href="/tags/nginx/" style="font-size: 15px;">nginx</a> <a href="/tags/work/" style="font-size: 15px;">work</a> <a href="/tags/log/" style="font-size: 15px;">log</a> <a href="/tags/js/" style="font-size: 15px;">js</a> <a href="/tags/angularjs/" style="font-size: 15px;">angularjs</a> <a href="/tags/db/" style="font-size: 15px;">db</a> <a href="/tags/mongodb/" style="font-size: 15px;">mongodb</a> <a href="/tags/react/" style="font-size: 15px;">react</a> <a href="/tags/mmnote/" style="font-size: 15px;">mmnote</a> <a href="/tags/architecture/" style="font-size: 15px;">architecture</a> <a href="/tags/protocol-buffers/" style="font-size: 15px;">protocol-buffers</a> <a href="/tags/blog/" style="font-size: 15px;">blog</a> <a href="/tags/mq/" style="font-size: 15px;">mq</a> <a href="/tags/redis/" style="font-size: 15px;">redis</a> <a href="/tags/tools/" style="font-size: 15px;">tools</a> <a href="/tags/emacs/" style="font-size: 15px;">emacs</a> <a href="/tags/ç®¡ç†åå°/" style="font-size: 15px;">ç®¡ç†åå°</a> <a href="/tags/docker/" style="font-size: 15px;">docker</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/shell/" style="font-size: 15px;">shell</a> <a href="/tags/vagrant/" style="font-size: 15px;">vagrant</a> <a href="/tags/tmux/" style="font-size: 15px;">tmux</a> <a href="/tags/os/" style="font-size: 15px;">os</a> <a href="/tags/mac/" style="font-size: 15px;">mac</a> <a href="/tags/automation/" style="font-size: 15px;">automation</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/http/" style="font-size: 15px;">http</a> <a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/bochs/" style="font-size: 15px;">bochs</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/php/" style="font-size: 15px;">php</a> <a href="/tags/project/" style="font-size: 15px;">project</a> <a href="/tags/software/" style="font-size: 15px;">software</a> <a href="/tags/test/" style="font-size: 15px;">test</a> <a href="/tags/ffmpeg/" style="font-size: 15px;">ffmpeg</a> <a href="/tags/gm/" style="font-size: 15px;">gm</a> <a href="/tags/graphicsmagick/" style="font-size: 15px;">graphicsmagick</a> <a href="/tags/wireshark/" style="font-size: 15px;">wireshark</a> <a href="/tags/vscode/" style="font-size: 15px;">vscode</a> <a href="/tags/curl/" style="font-size: 15px;">curl</a> <a href="/tags/web/" style="font-size: 15px;">web</a> <a href="/tags/javafx/" style="font-size: 15px;">javafx</a> <a href="/tags/jvm/" style="font-size: 15px;">jvm</a> <a href="/tags/guava/" style="font-size: 15px;">guava</a> <a href="/tags/junit/" style="font-size: 15px;">junit</a> <a href="/tags/groovy/" style="font-size: 15px;">groovy</a> <a href="/tags/idea/" style="font-size: 15px;">idea</a> <a href="/tags/tomcat/" style="font-size: 15px;">tomcat</a> <a href="/tags/maven/" style="font-size: 15px;">maven</a> <a href="/tags/doclet/" style="font-size: 15px;">doclet</a> <a href="/tags/log4j/" style="font-size: 15px;">log4j</a> <a href="/tags/servlet/" style="font-size: 15px;">servlet</a> <a href="/tags/dubbo/" style="font-size: 15px;">dubbo</a> <a href="/tags/spring/" style="font-size: 15px;">spring</a> <a href="/tags/electron/" style="font-size: 15px;">electron</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/javascript/" style="font-size: 15px;">javascript</a> <a href="/tags/jquery/" style="font-size: 15px;">jquery</a> <a href="/tags/nodejs/" style="font-size: 15px;">nodejs</a> <a href="/tags/ts/" style="font-size: 15px;">ts</a> <a href="/tags/gulp/" style="font-size: 15px;">gulp</a> <a href="/tags/typescript/" style="font-size: 15px;">typescript</a> <a href="/tags/webpack/" style="font-size: 15px;">webpack</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> æœ€è¿‘æ–‡ç« </i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/07/28/java/language/Javaæ—¥å¿—-Log4jå®ç°è¿è¡Œæ—¶ä¿®æ”¹æ—¥å¿—çº§åˆ«/">Javaæ—¥å¿—-Log4jå®ç°è¿è¡Œæ—¶ä¿®æ”¹æ—¥å¿—çº§åˆ«</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/28/java/language/Javaæ—¥å¿—-Log4jæºç åˆ†æ/">Javaæ—¥å¿—-Log4jæºç åˆ†æ</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/22/java/language/Javaæ—¥å¿—-SLF4Jä½¿ç”¨ä¸æºç åˆ†æ/">Javaæ—¥å¿—-SLF4Jä½¿ç”¨ä¸æºç åˆ†æ</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/11/os/è‡ªå·±åŠ¨æ‰‹å†™æ“ä½œç³»ç»Ÿ-è®¡ç®—æœºé€šç”µä¹‹åçš„æ“ä½œ/">è‡ªå·±åŠ¨æ‰‹å†™æ“ä½œç³»ç»Ÿ-è®¡ç®—æœºé€šç”µä¹‹åçš„æ“ä½œ</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/11/os/Bochså­¦ä¹ -å®‰è£…é…ç½®ç¯‡/">Bochså­¦ä¹ -å®‰è£…é…ç½®ç¯‡</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/18/java/language/Javaå¦‚ä½•ä¿è¯æ–‡ä»¶è½ç›˜ï¼Ÿ/">Javaå¦‚ä½•ä¿è¯æ–‡ä»¶è½ç›˜ï¼Ÿ</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/17/linux/Linux-UNIXç¼–ç¨‹å¦‚ä½•ä¿è¯æ–‡ä»¶è½ç›˜/">Linux/UNIXç¼–ç¨‹å¦‚ä½•ä¿è¯æ–‡ä»¶è½ç›˜</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/07/db/MongoDBéå†æ–¹å¼å¯¹æ¯”/">MongoDBéå†æ–¹å¼å¯¹æ¯”</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/04/java/language/JDKæºç é˜…è¯»-RandomAccessFile/">JDKæºç é˜…è¯»-RandomAccessFile</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/04/java/language/JDKæºç é˜…è¯»-FileOutputStream/">JDKæºç é˜…è¯»-FileOutputStream</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> æœ€è¿‘è¯„è®º</i></div><script type="text/javascript" src="//mushan.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> å‹æƒ…é“¾æ¥</i></div><ul></ul><a href="http://anotom.com/" title="é‘«å“¥çš„åšå®¢" target="_blank">é‘«å“¥çš„åšå®¢</a><ul></ul><a href="https://www.caylor.cc/" title="ä¹å“¥çš„åšå®¢" target="_blank">ä¹å“¥çš„åšå®¢</a><ul></ul><a href="http://zach41.github.io/" title="å°ç¾çš„åšå®¢" target="_blank">å°ç¾çš„åšå®¢</a><ul></ul><a href="http://blog.csdn.net/sinat_25127047" title="ç€šæ–‡çš„åšå®¢" target="_blank">ç€šæ–‡çš„åšå®¢</a><ul></ul><a href="http://blog.csdn.net/xiaohangblog?viewmode=contents)" title="å°æ­çš„åšå®¢" target="_blank">å°æ­çš„åšå®¢</a><ul></ul><a href="http://bettercuicui.github.io/" title="å¤ä¾¯çš„åšå®¢" target="_blank">å¤ä¾¯çš„åšå®¢</a><ul></ul><a href="http://damye.github.io/" title="ç¬¦å°§çš„åšå®¢" target="_blank">ç¬¦å°§çš„åšå®¢</a><ul></ul><a href="http://blog.shrp.me/" title="å°šå¼Ÿçš„åšå®¢" target="_blank">å°šå¼Ÿçš„åšå®¢</a><ul></ul><a href="http://imethan.cn" title="åº”é”‹çš„åšå®¢" target="_blank">åº”é”‹çš„åšå®¢</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright Â© 2018 <a href="/." rel="nofollow">æœ¨æ‰çš„åšå®¢.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>