<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="这是木杉的个人博客"><title>【TODO】emacs配置prelude使用笔记 | 木杉的博客</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/6.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">【TODO】emacs配置prelude使用笔记</h1><a id="logo" href="/.">木杉的博客</a><p class="description">要么精通，要么死</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">【TODO】emacs配置prelude使用笔记</h1><div class="post-meta">Jan 27, 2016<script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><a data-disqus-identifier="2016/01/27/emacs/emacs配置prelude使用笔记/" href="/2016/01/27/emacs/emacs配置prelude使用笔记/#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><p>Perlude也算是emacs上一个很有名的配置的了，在github上有2000多的start。</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><pre><code>curl -L https://github.com/bbatsov/prelude/raw/master/utils/installer.sh | sh
</code></pre><h2 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h2><p>更新插件：</p>
<pre><code>M-x package-list-packages RET U x
</code></pre><p>更新Perlude本身：</p>
<pre><code>cd ~/.emacs.d &amp;&amp; git pull
</code></pre><h2 id="开关模块"><a href="#开关模块" class="headerlink" title="开关模块"></a>开关模块</h2><p>perlude包含了许多模块，但是默认并没有全部开启。模块配置文件在<code>~/.emacs.d/prelude-modules.el</code>中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">;; Emacs IRC client</span><br><span class="line">(require &apos;prelude-erc)</span><br><span class="line">(require &apos;prelude-ido) ;; Super charges Emacs completion for C-x C-f and more</span><br><span class="line">;; (require &apos;prelude-helm) ;; Interface for narrowing and search</span><br><span class="line">;; (require &apos;prelude-helm-everywhere) ;; Enable Helm everywhere</span><br><span class="line">(require &apos;prelude-company)</span><br><span class="line">;; (require &apos;prelude-key-chord) ;; Binds useful features to key combinations</span><br><span class="line">;; (require &apos;prelude-mediawiki)</span><br><span class="line">;; (require &apos;prelude-evil)</span><br><span class="line"></span><br><span class="line">;;; Programming languages support</span><br><span class="line">(require &apos;prelude-c)</span><br><span class="line">;; (require &apos;prelude-clojure)</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>需要什么模块，去掉前面的注释就可以了。</p>
<h2 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h2><p>那我们需要在哪里添加我们自己的自定义配置呢？Perlude提供了一个<code>personal</code>目录。里面的所有elisp脚本都会被被调用</p>
<p><code>personal/preload</code>中的所有elisp脚本会在Prelude开始前调用。</p>
<h2 id="Helm"><a href="#Helm" class="headerlink" title="Helm"></a>Helm</h2><p>默认，prelude不开启helm。</p>
<pre><code>(require &apos;prelude-helm-everywhere)
</code></pre><p>安装失败</p>
<pre><code>File error: https://melpa.org/packages/helm-ag-20160119.454.el, Not found
</code></pre><p>这是helm-ag模块安装失败了。目前原因不明，先把这个模块关闭吧，<code>.emacs.d/modules/prelude-helm-everywhere.el</code>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">;; (prelude-require-packages &apos;(helm-descbinds helm-ag))  注释掉这一行</span><br></pre></td></tr></table></figure>
<h2 id="源码阅读笔记"><a href="#源码阅读笔记" class="headerlink" title="源码阅读笔记"></a>源码阅读笔记</h2><p>load-file-name：<br>load-file-name is a variable defined in <code>C source code&#39;.
Full name of file being loaded by</code>load’.</p>
<p><code>load-file-name</code>保存当前被<code>load</code>读取的文件的路径</p>
<pre><code>(defvar prelude-dir (file-name-directory load-file-name)
    &quot;The root dir of the Emacs Prelude distribution.&quot;)
</code></pre><p>这句定义了prelude的工作目录</p>
<p>expand-file-name：</p>
<p>add-to-list:如果列表中不存在该元素，添加到列表中</p>
<h3 id="入口文件-init-el"><a href="#入口文件-init-el" class="headerlink" title="入口文件-init.el"></a>入口文件-init.el</h3><p><code>.emacs.d/init.el</code>是配置的入口文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line">;;; init.el --- Prelude&apos;s configuration entry point.</span><br><span class="line">(defvar current-user</span><br><span class="line">      (getenv</span><br><span class="line">       (if (equal system-type &apos;windows-nt) &quot;USERNAME&quot; &quot;USER&quot;)))</span><br><span class="line"></span><br><span class="line">(message &quot;Prelude is powering up... Be patient, Master %s!&quot; current-user)</span><br><span class="line"></span><br><span class="line">(when (version&lt; emacs-version &quot;24.1&quot;)</span><br><span class="line">  (error &quot;Prelude requires at least GNU Emacs 24.1, but you&apos;re running %s&quot; emacs-version))</span><br><span class="line"></span><br><span class="line">;; Always load newest byte code</span><br><span class="line">(setq load-prefer-newer t)</span><br><span class="line"></span><br><span class="line">(defvar prelude-dir (file-name-directory load-file-name)</span><br><span class="line">  &quot;The root dir of the Emacs Prelude distribution.&quot;)</span><br><span class="line">(defvar prelude-core-dir (expand-file-name &quot;core&quot; prelude-dir)</span><br><span class="line">  &quot;The home of Prelude&apos;s core functionality.&quot;)</span><br><span class="line">(defvar prelude-modules-dir (expand-file-name  &quot;modules&quot; prelude-dir)</span><br><span class="line">  &quot;This directory houses all of the built-in Prelude modules.&quot;)</span><br><span class="line">(defvar prelude-personal-dir (expand-file-name &quot;personal&quot; prelude-dir)</span><br><span class="line">  &quot;This directory is for your personal configuration.</span><br><span class="line"></span><br><span class="line">Users of Emacs Prelude are encouraged to keep their personal configuration</span><br><span class="line">changes in this directory.  All Emacs Lisp files there are loaded automatically</span><br><span class="line">by Prelude.&quot;)</span><br><span class="line">(defvar prelude-personal-preload-dir (expand-file-name &quot;preload&quot; prelude-personal-dir)</span><br><span class="line">  &quot;This directory is for your personal configuration, that you want loaded before Prelude.&quot;)</span><br><span class="line">(defvar prelude-vendor-dir (expand-file-name &quot;vendor&quot; prelude-dir)</span><br><span class="line">  &quot;This directory houses packages that are not yet available in ELPA (or MELPA).&quot;)</span><br><span class="line">(defvar prelude-savefile-dir (expand-file-name &quot;savefile&quot; prelude-dir)</span><br><span class="line">  &quot;This folder stores all the automatically generated save/history-files.&quot;)</span><br><span class="line">(defvar prelude-modules-file (expand-file-name &quot;prelude-modules.el&quot; prelude-dir)</span><br><span class="line">  &quot;This files contains a list of modules that will be loaded by Prelude.&quot;)</span><br><span class="line"></span><br><span class="line">(unless (file-exists-p prelude-savefile-dir)</span><br><span class="line">  (make-directory prelude-savefile-dir))</span><br><span class="line"></span><br><span class="line">(defun prelude-add-subfolders-to-load-path (parent-dir)</span><br><span class="line"> &quot;Add all level PARENT-DIR subdirs to the `load-path&apos;.&quot;</span><br><span class="line"> (dolist (f (directory-files parent-dir))</span><br><span class="line">   (let ((name (expand-file-name f parent-dir)))</span><br><span class="line">     (when (and (file-directory-p name)</span><br><span class="line">                (not (string-prefix-p &quot;.&quot; f)))</span><br><span class="line">       (add-to-list &apos;load-path name)</span><br><span class="line">       (prelude-add-subfolders-to-load-path name)))))</span><br><span class="line"></span><br><span class="line">;; add Prelude&apos;s directories to Emacs&apos;s `load-path&apos;</span><br><span class="line">(add-to-list &apos;load-path prelude-core-dir)</span><br><span class="line">(add-to-list &apos;load-path prelude-modules-dir)</span><br><span class="line">(add-to-list &apos;load-path prelude-vendor-dir)</span><br><span class="line">(prelude-add-subfolders-to-load-path prelude-vendor-dir)</span><br><span class="line"></span><br><span class="line">;; reduce the frequency of garbage collection by making it happen on</span><br><span class="line">;; each 50MB of allocated data (the default is on every 0.76MB)</span><br><span class="line">(setq gc-cons-threshold 50000000)</span><br><span class="line"></span><br><span class="line">;; warn when opening files bigger than 100MB</span><br><span class="line">(setq large-file-warning-threshold 100000000)</span><br><span class="line"></span><br><span class="line">;; preload the personal settings from `prelude-personal-preload-dir&apos;</span><br><span class="line">(when (file-exists-p prelude-personal-preload-dir)</span><br><span class="line">  (message &quot;Loading personal configuration files in %s...&quot; prelude-personal-preload-dir)</span><br><span class="line">  (mapc &apos;load (directory-files prelude-personal-preload-dir &apos;t &quot;^[^#].*el$&quot;)))</span><br><span class="line"></span><br><span class="line">(message &quot;Loading Prelude&apos;s core...&quot;)</span><br><span class="line"></span><br><span class="line">;; the core stuff</span><br><span class="line">(require &apos;prelude-packages)</span><br><span class="line">(require &apos;prelude-custom)  ;; Needs to be loaded before core, editor and ui</span><br><span class="line">(require &apos;prelude-ui)</span><br><span class="line">(require &apos;prelude-core)</span><br><span class="line">(require &apos;prelude-mode)</span><br><span class="line">(require &apos;prelude-editor)</span><br><span class="line">(require &apos;prelude-global-keybindings)</span><br><span class="line"></span><br><span class="line">;; OSX specific settings</span><br><span class="line">(when (eq system-type &apos;darwin)</span><br><span class="line">  (require &apos;prelude-osx))</span><br><span class="line"></span><br><span class="line">(message &quot;Loading Prelude&apos;s modules...&quot;)</span><br><span class="line"></span><br><span class="line">;; the modules</span><br><span class="line">(if (file-exists-p prelude-modules-file)</span><br><span class="line">    (load prelude-modules-file)</span><br><span class="line">  (message &quot;Missing modules file %s&quot; prelude-modules-file)</span><br><span class="line">  (message &quot;You can get started by copying the bundled example file&quot;))</span><br><span class="line"></span><br><span class="line">;; config changes made through the customize UI will be store here</span><br><span class="line">(setq custom-file (expand-file-name &quot;custom.el&quot; prelude-personal-dir))</span><br><span class="line"></span><br><span class="line">;; load the personal settings (this includes `custom-file&apos;)</span><br><span class="line">(when (file-exists-p prelude-personal-dir)</span><br><span class="line">  (message &quot;Loading personal configuration files in %s...&quot; prelude-personal-dir)</span><br><span class="line">  (mapc &apos;load (directory-files prelude-personal-dir &apos;t &quot;^[^#].*el$&quot;)))</span><br><span class="line"></span><br><span class="line">(message &quot;Prelude is ready to do thy bidding, Master %s!&quot; current-user)</span><br><span class="line"></span><br><span class="line">(prelude-eval-after-init</span><br><span class="line"> ;; greet the use with some useful tip</span><br><span class="line"> (run-at-time 5 nil &apos;prelude-tip-of-the-day))</span><br><span class="line"></span><br><span class="line">;;; init.el ends here</span><br></pre></td></tr></table></figure>
<h3 id="安装插件模块-prelude-packages-el"><a href="#安装插件模块-prelude-packages-el" class="headerlink" title="安装插件模块-prelude-packages.el"></a>安装插件模块-prelude-packages.el</h3><p>入口文件中，第一个require的是<code>prelude-packages</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br></pre></td><td class="code"><pre><span class="line">;;; prelude-packages.el --- Emacs Prelude: default package selection.</span><br><span class="line">;; 使用了common lisp扩展。但是这种写法不好，没有cl-前缀，官方推荐使用(require ‘cl-lib)。</span><br><span class="line">;; https://www.emacswiki.org/emacs/CommonLispForEmacs</span><br><span class="line">(require &apos;cl)</span><br><span class="line">(require &apos;package)</span><br><span class="line"></span><br><span class="line">(add-to-list &apos;package-archives</span><br><span class="line">             &apos;(&quot;melpa&quot; . &quot;https://melpa.org/packages/&quot;) t)</span><br><span class="line">;; set package-user-dir to be relative to Prelude install path</span><br><span class="line">(setq package-user-dir (expand-file-name &quot;elpa&quot; prelude-dir))</span><br><span class="line">(package-initialize)</span><br><span class="line"></span><br><span class="line">;; 定义需要安装的插件列表，这些插件是基础插件，在第一次启动的时候会全部装上。</span><br><span class="line">(defvar prelude-packages</span><br><span class="line">  &apos;(ace-window</span><br><span class="line">    avy</span><br><span class="line">    anzu</span><br><span class="line">    beacon</span><br><span class="line">    browse-kill-ring</span><br><span class="line">    dash</span><br><span class="line">    discover-my-major</span><br><span class="line">    diff-hl</span><br><span class="line">    diminish</span><br><span class="line">    easy-kill</span><br><span class="line">    epl</span><br><span class="line">    expand-region</span><br><span class="line">    flycheck</span><br><span class="line">    gist</span><br><span class="line">    git-timemachine</span><br><span class="line">    gitconfig-mode</span><br><span class="line">    gitignore-mode</span><br><span class="line">    god-mode</span><br><span class="line">    grizzl</span><br><span class="line">    guru-mode</span><br><span class="line">    ov</span><br><span class="line">    projectile</span><br><span class="line">    magit</span><br><span class="line">    move-text</span><br><span class="line">    operate-on-number</span><br><span class="line">    smart-mode-line</span><br><span class="line">    smartparens</span><br><span class="line">    smartrep</span><br><span class="line">    undo-tree</span><br><span class="line">    volatile-highlights</span><br><span class="line">    zenburn-theme</span><br><span class="line">    )</span><br><span class="line">  &quot;A list of packages to ensure are installed at launch.&quot;)</span><br><span class="line"></span><br><span class="line">;; 判断插件列表中的插件是否都安装完毕</span><br><span class="line">(defun prelude-packages-installed-p ()</span><br><span class="line">  &quot;Check if all packages in `prelude-packages&apos; are installed.&quot;</span><br><span class="line">  (every #&apos;package-installed-p prelude-packages))</span><br><span class="line"></span><br><span class="line">(defun prelude-require-package (package)</span><br><span class="line">  &quot;Install PACKAGE unless already installed.&quot;</span><br><span class="line">  (unless (memq package prelude-packages)</span><br><span class="line">    (add-to-list &apos;prelude-packages package))</span><br><span class="line">  (unless (package-installed-p package)</span><br><span class="line">    (package-install package)))</span><br><span class="line"></span><br><span class="line">(defun prelude-require-packages (packages)</span><br><span class="line">  &quot;Ensure PACKAGES are installed.</span><br><span class="line">Missing packages are installed automatically.&quot;</span><br><span class="line">  (mapc #&apos;prelude-require-package packages))</span><br><span class="line"></span><br><span class="line">(define-obsolete-function-alias &apos;prelude-ensure-module-deps &apos;prelude-require-packages)</span><br><span class="line"></span><br><span class="line">(defun prelude-install-packages ()</span><br><span class="line">  &quot;Install all packages listed in `prelude-packages&apos;.&quot;</span><br><span class="line">  (unless (prelude-packages-installed-p)</span><br><span class="line">    ;; check for new packages (package versions)</span><br><span class="line">    (message &quot;%s&quot; &quot;Emacs Prelude is now refreshing its package database...&quot;)</span><br><span class="line">    (package-refresh-contents)</span><br><span class="line">    (message &quot;%s&quot; &quot; done.&quot;)</span><br><span class="line">    ;; install the missing packages</span><br><span class="line">    (prelude-require-packages prelude-packages)))</span><br><span class="line"></span><br><span class="line">;; 安装基础插件</span><br><span class="line">(prelude-install-packages)</span><br><span class="line"></span><br><span class="line">(defun prelude-list-foreign-packages ()</span><br><span class="line">  &quot;Browse third-party packages not bundled with Prelude.</span><br><span class="line"></span><br><span class="line">Behaves similarly to `package-list-packages&apos;, but shows only the packages that</span><br><span class="line">are installed and are not in `prelude-packages&apos;.  Useful for</span><br><span class="line">removing unwanted packages.&quot;</span><br><span class="line">  (interactive)</span><br><span class="line">  (package-show-package-list</span><br><span class="line">   (set-difference package-activated-list prelude-packages)))</span><br><span class="line"></span><br><span class="line">(defmacro prelude-auto-install (extension package mode)</span><br><span class="line">  &quot;When file with EXTENSION is opened triggers auto-install of PACKAGE.</span><br><span class="line">PACKAGE is installed only if not already present.  The file is opened in MODE.&quot;</span><br><span class="line">  `(add-to-list &apos;auto-mode-alist</span><br><span class="line">                `(,extension . (lambda ()</span><br><span class="line">                                 (unless (package-installed-p &apos;,package)</span><br><span class="line">                                   (package-install &apos;,package))</span><br><span class="line">                                 (,mode)))))</span><br><span class="line"></span><br><span class="line">(defvar prelude-auto-install-alist</span><br><span class="line">  &apos;((&quot;\\.clj\\&apos;&quot; clojure-mode clojure-mode)</span><br><span class="line">    (&quot;\\.cmake\\&apos;&quot; cmake-mode cmake-mode)</span><br><span class="line">    (&quot;CMakeLists\\.txt\\&apos;&quot; cmake-mode cmake-mode)</span><br><span class="line">    (&quot;\\.coffee\\&apos;&quot; coffee-mode coffee-mode)</span><br><span class="line">    (&quot;\\.css\\&apos;&quot; css-mode css-mode)</span><br><span class="line">    (&quot;\\.csv\\&apos;&quot; csv-mode csv-mode)</span><br><span class="line">    (&quot;\\.d\\&apos;&quot; d-mode d-mode)</span><br><span class="line">    (&quot;\\.dart\\&apos;&quot; dart-mode dart-mode)</span><br><span class="line">    (&quot;\\.elm\\&apos;&quot; elm-mode elm-mode)</span><br><span class="line">    (&quot;\\.ex\\&apos;&quot; elixir-mode elixir-mode)</span><br><span class="line">    (&quot;\\.exs\\&apos;&quot; elixir-mode elixir-mode)</span><br><span class="line">    (&quot;\\.elixir\\&apos;&quot; elixir-mode elixir-mode)</span><br><span class="line">    (&quot;\\.erl\\&apos;&quot; erlang erlang-mode)</span><br><span class="line">    (&quot;\\.feature\\&apos;&quot; feature-mode feature-mode)</span><br><span class="line">    (&quot;\\.go\\&apos;&quot; go-mode go-mode)</span><br><span class="line">    (&quot;\\.groovy\\&apos;&quot; groovy-mode groovy-mode)</span><br><span class="line">    (&quot;\\.haml\\&apos;&quot; haml-mode haml-mode)</span><br><span class="line">    (&quot;\\.hs\\&apos;&quot; haskell-mode haskell-mode)</span><br><span class="line">    (&quot;\\.json\\&apos;&quot; json-mode json-mode)</span><br><span class="line">    (&quot;\\.kv\\&apos;&quot; kivy-mode kivy-mode)</span><br><span class="line">    (&quot;\\.latex\\&apos;&quot; auctex LaTeX-mode)</span><br><span class="line">    (&quot;\\.less\\&apos;&quot; less-css-mode less-css-mode)</span><br><span class="line">    (&quot;\\.lua\\&apos;&quot; lua-mode lua-mode)</span><br><span class="line">    (&quot;\\.markdown\\&apos;&quot; markdown-mode markdown-mode)</span><br><span class="line">    (&quot;\\.md\\&apos;&quot; markdown-mode markdown-mode)</span><br><span class="line">    (&quot;\\.ml\\&apos;&quot; tuareg tuareg-mode)</span><br><span class="line">    (&quot;\\.pp\\&apos;&quot; puppet-mode puppet-mode)</span><br><span class="line">    (&quot;\\.php\\&apos;&quot; php-mode php-mode)</span><br><span class="line">    (&quot;\\.proto\\&apos;&quot; protobuf-mode protobuf-mode)</span><br><span class="line">    (&quot;\\.pyd\\&apos;&quot; cython-mode cython-mode)</span><br><span class="line">    (&quot;\\.pyi\\&apos;&quot; cython-mode cython-mode)</span><br><span class="line">    (&quot;\\.pyx\\&apos;&quot; cython-mode cython-mode)</span><br><span class="line">    (&quot;PKGBUILD\\&apos;&quot; pkgbuild-mode pkgbuild-mode)</span><br><span class="line">    (&quot;\\.rs\\&apos;&quot; rust-mode rust-mode)</span><br><span class="line">    (&quot;\\.sass\\&apos;&quot; sass-mode sass-mode)</span><br><span class="line">    (&quot;\\.scala\\&apos;&quot; scala-mode2 scala-mode)</span><br><span class="line">    (&quot;\\.scss\\&apos;&quot; scss-mode scss-mode)</span><br><span class="line">    (&quot;\\.slim\\&apos;&quot; slim-mode slim-mode)</span><br><span class="line">    (&quot;\\.styl\\&apos;&quot; stylus-mode stylus-mode)</span><br><span class="line">    (&quot;\\.swift\\&apos;&quot; swift-mode swift-mode)</span><br><span class="line">    (&quot;\\.textile\\&apos;&quot; textile-mode textile-mode)</span><br><span class="line">    (&quot;\\.thrift\\&apos;&quot; thrift thrift-mode)</span><br><span class="line">    (&quot;\\.yml\\&apos;&quot; yaml-mode yaml-mode)</span><br><span class="line">    (&quot;\\.yaml\\&apos;&quot; yaml-mode yaml-mode)</span><br><span class="line">    (&quot;Dockerfile\\&apos;&quot; dockerfile-mode dockerfile-mode)))</span><br><span class="line"></span><br><span class="line">;; markdown-mode doesn&apos;t have autoloads for the auto-mode-alist</span><br><span class="line">;; so we add them manually if it&apos;s already installed</span><br><span class="line">(when (package-installed-p &apos;markdown-mode)</span><br><span class="line">  (add-to-list &apos;auto-mode-alist &apos;(&quot;\\.markdown\\&apos;&quot; . gfm-mode))</span><br><span class="line">  (add-to-list &apos;auto-mode-alist &apos;(&quot;\\.md\\&apos;&quot; . gfm-mode)))</span><br><span class="line"></span><br><span class="line">(when (package-installed-p &apos;pkgbuild-mode)</span><br><span class="line">  (add-to-list &apos;auto-mode-alist &apos;(&quot;PKGBUILD\\&apos;&quot; . pkgbuild-mode)))</span><br><span class="line"></span><br><span class="line">;; build auto-install mappings</span><br><span class="line">(mapc</span><br><span class="line"> (lambda (entry)</span><br><span class="line">   (let ((extension (car entry))</span><br><span class="line">         (package (cadr entry))</span><br><span class="line">         (mode (cadr (cdr entry))))</span><br><span class="line">     (unless (package-installed-p package)</span><br><span class="line">       (prelude-auto-install extension package mode))))</span><br><span class="line"> prelude-auto-install-alist)</span><br><span class="line"></span><br><span class="line">(provide &apos;prelude-packages)</span><br><span class="line">;; Local Variables:</span><br><span class="line">;; byte-compile-warnings: (not cl-functions)</span><br><span class="line">;; End:</span><br><span class="line"></span><br><span class="line">;;; prelude-packages.el ends here</span><br></pre></td></tr></table></figure>
<p><code>prelude-packages.el</code>首先安装基础的插件。然后针对不同的文件，实现了自动安装对应主模式。</p>
<p>安装的基本代码是：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(add-to-list &apos;package-archives</span><br><span class="line">             &apos;(&quot;melpa&quot; . &quot;https://melpa.org/packages/&quot;) t)</span><br><span class="line">(package-initialize)</span><br><span class="line"></span><br><span class="line">(package-refresh-contents)</span><br><span class="line">(package-install &apos;color-theme-solarized)</span><br><span class="line">(load-theme &apos;solarized-dark t)</span><br></pre></td></tr></table></figure>
<p>在emacs24后加入了包管理，所以大大方便了插件的安装。<code>(package-refresh-contents)</code>这句是必要的，这是通知包管理去获取插件列表。如果不获取列表就进行<code>package-install</code>会保存，提示插件不存在</p>
<p>自动安装主要是通过<code>auto-mode-alist</code>这个变量实现的。这个list的每个元素的结构是<code>(REGEXP . FUNCTION)</code>。前者是用来判断后缀名的正则表达式。后者是当打开这种后缀文件时，调用的方法。</p>
<p>prelude使用这个list，添加了很多程序代码的自动安装宏：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(defmacro prelude-auto-install (extension package mode)</span><br><span class="line">  &quot;When file with EXTENSION is opened triggers auto-install of PACKAGE.</span><br><span class="line">PACKAGE is installed only if not already present.  The file is opened in MODE.&quot;</span><br><span class="line">  `(add-to-list &apos;auto-mode-alist</span><br><span class="line">                `(,extension . (lambda ()</span><br><span class="line">                                 (unless (package-installed-p &apos;,package)</span><br><span class="line">                                   (package-install &apos;,package))</span><br><span class="line">                                 (,mode)))))</span><br></pre></td></tr></table></figure>
<p>宏的相关知识可以看<a href="http://mushanshitiancai.github.io/2016/02/18/emacs/emacs%E7%9A%84macro/">这篇文章</a>。不过感觉可以完全不用宏实现吧？</p>
<p><code>(every #&#39;package-installed-p prelude-packages)</code>这里的<code>#</code>是什么效果？–其实是<code>#&#39;</code>，是<code>function</code>的缩写。告诉emacs解释器，后面跟着的表达式是函数，可以使用优化手段了。</p>
<h3 id="用户可控配置定义-prelude-custom-el"><a href="#用户可控配置定义-prelude-custom-el" class="headerlink" title="用户可控配置定义-prelude-custom.el"></a>用户可控配置定义-prelude-custom.el</h3><p>prelude定义了一些用户可以修改的配置。prelude-custom.el是这些配置项定义的地方。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">;; customize</span><br><span class="line">(defgroup prelude nil</span><br><span class="line">  &quot;Emacs Prelude configuration.&quot;</span><br><span class="line">  :prefix &quot;prelude-&quot;</span><br><span class="line">  :group &apos;convenience)</span><br><span class="line"></span><br><span class="line">(defcustom prelude-auto-save t</span><br><span class="line">  &quot;Non-nil values enable Prelude&apos;s auto save.&quot;</span><br><span class="line">  :type &apos;boolean</span><br><span class="line">  :group &apos;prelude)</span><br><span class="line"></span><br><span class="line">(defcustom prelude-guru t</span><br><span class="line">  &quot;Non-nil values enable `guru-mode&apos;.&quot;</span><br><span class="line">  :type &apos;boolean</span><br><span class="line">  :group &apos;prelude)</span><br><span class="line"></span><br><span class="line">(defcustom prelude-whitespace t</span><br><span class="line">  &quot;Non-nil values enable Prelude&apos;s whitespace visualization.&quot;</span><br><span class="line">  :type &apos;boolean</span><br><span class="line">  :group &apos;prelude)</span><br><span class="line"></span><br><span class="line">(defcustom prelude-clean-whitespace-on-save t</span><br><span class="line">  &quot;Cleanup whitespace from file before it&apos;s saved.</span><br><span class="line">Will only occur if `prelude-whitespace&apos; is also enabled.&quot;</span><br><span class="line">  :type &apos;boolean</span><br><span class="line">  :group &apos;prelude)</span><br><span class="line"></span><br><span class="line">(defcustom prelude-flyspell t</span><br><span class="line">  &quot;Non-nil values enable Prelude&apos;s flyspell support.&quot;</span><br><span class="line">  :type &apos;boolean</span><br><span class="line">  :group &apos;prelude)</span><br><span class="line"></span><br><span class="line">(defcustom prelude-user-init-file (expand-file-name &quot;personal/&quot;</span><br><span class="line">                                                    user-emacs-directory)</span><br><span class="line">  &quot;Path to your personal customization file.</span><br><span class="line">Prelude recommends you only put personal customizations in the</span><br><span class="line">personal folder.  This variable allows you to specify a specific</span><br><span class="line">folder as the one that should be visited when running</span><br><span class="line">`prelude-find-user-init-file&apos;.  This can be easily set to the desired buffer</span><br><span class="line">in lisp by putting `(setq prelude-user-init-file load-file-name)&apos;</span><br><span class="line">in the desired elisp file.&quot;</span><br><span class="line">  :type &apos;string</span><br><span class="line">  :group &apos;prelude)</span><br><span class="line"></span><br><span class="line">(defcustom prelude-indent-sensitive-modes</span><br><span class="line">  &apos;(conf-mode coffee-mode haml-mode python-mode slim-mode yaml-mode)</span><br><span class="line">  &quot;Modes for which auto-indenting is suppressed.&quot;</span><br><span class="line">  :type &apos;list</span><br><span class="line">  :group &apos;prelude)</span><br><span class="line"></span><br><span class="line">(defcustom prelude-yank-indent-modes &apos;(LaTeX-mode TeX-mode)</span><br><span class="line">  &quot;Modes in which to indent regions that are yanked (or yank-popped).</span><br><span class="line">Only modes that don&apos;t derive from `prog-mode&apos; should be listed here.&quot;</span><br><span class="line">  :type &apos;list</span><br><span class="line">  :group &apos;prelude)</span><br><span class="line"></span><br><span class="line">(defcustom prelude-yank-indent-threshold 1000</span><br><span class="line">  &quot;Threshold (# chars) over which indentation does not automatically occur.&quot;</span><br><span class="line">  :type &apos;number</span><br><span class="line">  :group &apos;prelude)</span><br><span class="line"></span><br><span class="line">(defcustom prelude-theme &apos;zenburn</span><br><span class="line">  &quot;The default color theme, change this in your /personal/preload config.&quot;</span><br><span class="line">  :type &apos;symbol</span><br><span class="line">  :group &apos;prelude)</span><br><span class="line"></span><br><span class="line">(defcustom prelude-shell (getenv &quot;SHELL&quot;)</span><br><span class="line">  &quot;The default shell to run with `prelude-visit-term-buffer&apos;&quot;</span><br><span class="line">  :type &apos;string</span><br><span class="line">  :group &apos;prelude)</span><br><span class="line"></span><br><span class="line">(provide &apos;prelude-custom)</span><br><span class="line"></span><br><span class="line">;;; prelude-custom.el ends here</span><br></pre></td></tr></table></figure>
<p><code>defgroup</code> TODO</p>
<p><code>defcustom</code> TODO</p>
<h3 id="界面相关配置-prelude-ui-el"><a href="#界面相关配置-prelude-ui-el" class="headerlink" title="界面相关配置-prelude-ui.el"></a>界面相关配置-prelude-ui.el</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">;; 关闭工具条</span><br><span class="line">;; the toolbar is just a waste of valuable screen estate</span><br><span class="line">;; in a tty tool-bar-mode does not properly auto-load, and is</span><br><span class="line">;; already disabled anyway</span><br><span class="line">(when (fboundp &apos;tool-bar-mode)</span><br><span class="line">  (tool-bar-mode -1))</span><br><span class="line"></span><br><span class="line">(menu-bar-mode -1)</span><br><span class="line"></span><br><span class="line">;; 禁用光标闪烁</span><br><span class="line">;; the blinking cursor is nothing, but an annoyance</span><br><span class="line">(blink-cursor-mode -1)</span><br><span class="line"></span><br><span class="line">;; 关闭欢迎界面</span><br><span class="line">;; disable startup screen</span><br><span class="line">(setq inhibit-startup-screen t)</span><br><span class="line"></span><br><span class="line">;; nice scrolling</span><br><span class="line">(setq scroll-margin 0</span><br><span class="line">      scroll-conservatively 100000</span><br><span class="line">      scroll-preserve-screen-position 1)</span><br><span class="line"></span><br><span class="line">;; mode line settings</span><br><span class="line">(line-number-mode t)</span><br><span class="line">(column-number-mode t)</span><br><span class="line">(size-indication-mode t)</span><br><span class="line"></span><br><span class="line">;; enable y/n answers</span><br><span class="line">(fset &apos;yes-or-no-p &apos;y-or-n-p)</span><br><span class="line"></span><br><span class="line">;; </span><br><span class="line">;; more useful frame title, that show either a file or a</span><br><span class="line">;; buffer name (if the buffer isn&apos;t visiting a file)</span><br><span class="line">(setq frame-title-format</span><br><span class="line">      &apos;(&quot;&quot; invocation-name &quot; Prelude - &quot; (:eval (if (buffer-file-name)</span><br><span class="line">                                            (abbreviate-file-name (buffer-file-name))</span><br><span class="line">                                          &quot;%b&quot;))))</span><br><span class="line"></span><br><span class="line">;; 设置主题。默认prelude使用zenburn主题</span><br><span class="line">;; use zenburn as the default theme</span><br><span class="line">(when prelude-theme</span><br><span class="line">  (load-theme prelude-theme t))</span><br><span class="line"></span><br><span class="line">(require &apos;smart-mode-line)</span><br><span class="line">(setq sml/no-confirm-load-theme t)</span><br><span class="line">;; delegate theming to the currently active theme</span><br><span class="line">(setq sml/theme nil)</span><br><span class="line">(add-hook &apos;after-init-hook #&apos;sml/setup)</span><br><span class="line"></span><br><span class="line">;; 启用beacon-mode，这个模式会在光标移动后闪亮当前行，效果图见下方</span><br><span class="line">;; show the cursor when moving after big movements in the window</span><br><span class="line">(require &apos;beacon)</span><br><span class="line">(beacon-mode +1)</span><br><span class="line"></span><br><span class="line">(provide &apos;prelude-ui)</span><br><span class="line">;;; prelude-ui.el ends here</span><br></pre></td></tr></table></figure>
<p><a href="https://github.com/Malabarba/beacon/blob/master/example-beacon.gif" target="_blank" rel="noopener"><img src="https://github.com/Malabarba/beacon/raw/master/example-beacon.gif" alt=""></a></p>
</div><div class="reward"><hr><div class="text">如果觉得文章对你有帮助，就打赏杯咖啡钱呗😊</div><img src="/img/reward/weixin.png"><img src="/img/reward/alipay.png"></div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://mushanshitiancai.github.io/2016/01/27/emacs/emacs配置prelude使用笔记/" data-id="cjik9y9l4003jyj31yjd6irnd" class="article-share-link">分享</a><div class="tags"><a href="/tags/tools/">tools</a><a href="/tags/emacs/">emacs</a></div><div class="post-nav"><a href="/2016/01/28/emacs/emacs-lisp学习笔记/" class="pre">emacs lisp学习笔记</a><a href="/2016/01/27/emacs/emacs折腾笔记/" class="next">emacs折腾笔记</a></div><div id="disqus_thread"><div class="btn_click_load"><button class="disqus_click_btn">阅读评论 「请确保 disqus.com 可以正常加载」</button></div><script>var disqus_shortname = 'mushan';
var disqus_identifier = '2016/01/27/emacs/emacs配置prelude使用笔记/';
var disqus_title = '【TODO】emacs配置prelude使用笔记';
var disqus_url = 'http://mushanshitiancai.github.io/2016/01/27/emacs/emacs配置prelude使用笔记/';
$('.btn_click_load').click(function() {
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
  $('.btn_click_load').css('display','none');
});
$.ajax({
  url: 'https://disqus.com/favicon.ico',
  timeout: 3000,
  type: 'GET',
  success: (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    $('.btn_click_load').css('display','none');
  })(),
  error: function() {
    $('.btn_click_load').css('display','block');
  }
});</script><script id="dsq-count-scr" src="//mushan.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://mushanshitiancai.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Docker/">Docker</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Java/Groovy/">Groovy</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/JDK源码阅读/">JDK源码阅读</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/Spring/">Spring</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/掌握Java/">掌握Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/调试/">调试</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/TypeScript/">TypeScript</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/MongoDB/">MongoDB</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/RabbitMQ/">RabbitMQ</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tomcat/">Tomcat</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/electron/">electron</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/">web</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/自动化/">自动化</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/work/" style="font-size: 15px;">work</a> <a href="/tags/log/" style="font-size: 15px;">log</a> <a href="/tags/db/" style="font-size: 15px;">db</a> <a href="/tags/mongodb/" style="font-size: 15px;">mongodb</a> <a href="/tags/js/" style="font-size: 15px;">js</a> <a href="/tags/react/" style="font-size: 15px;">react</a> <a href="/tags/angularjs/" style="font-size: 15px;">angularjs</a> <a href="/tags/mmnote/" style="font-size: 15px;">mmnote</a> <a href="/tags/architecture/" style="font-size: 15px;">architecture</a> <a href="/tags/protocol-buffers/" style="font-size: 15px;">protocol-buffers</a> <a href="/tags/mq/" style="font-size: 15px;">mq</a> <a href="/tags/blog/" style="font-size: 15px;">blog</a> <a href="/tags/redis/" style="font-size: 15px;">redis</a> <a href="/tags/tools/" style="font-size: 15px;">tools</a> <a href="/tags/emacs/" style="font-size: 15px;">emacs</a> <a href="/tags/docker/" style="font-size: 15px;">docker</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/管理后台/" style="font-size: 15px;">管理后台</a> <a href="/tags/shell/" style="font-size: 15px;">shell</a> <a href="/tags/vagrant/" style="font-size: 15px;">vagrant</a> <a href="/tags/tmux/" style="font-size: 15px;">tmux</a> <a href="/tags/mac/" style="font-size: 15px;">mac</a> <a href="/tags/automation/" style="font-size: 15px;">automation</a> <a href="/tags/http/" style="font-size: 15px;">http</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/php/" style="font-size: 15px;">php</a> <a href="/tags/nginx/" style="font-size: 15px;">nginx</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/software/" style="font-size: 15px;">software</a> <a href="/tags/project/" style="font-size: 15px;">project</a> <a href="/tags/web/" style="font-size: 15px;">web</a> <a href="/tags/ffmpeg/" style="font-size: 15px;">ffmpeg</a> <a href="/tags/test/" style="font-size: 15px;">test</a> <a href="/tags/gm/" style="font-size: 15px;">gm</a> <a href="/tags/graphicsmagick/" style="font-size: 15px;">graphicsmagick</a> <a href="/tags/wireshark/" style="font-size: 15px;">wireshark</a> <a href="/tags/vscode/" style="font-size: 15px;">vscode</a> <a href="/tags/curl/" style="font-size: 15px;">curl</a> <a href="/tags/os/" style="font-size: 15px;">os</a> <a href="/tags/javafx/" style="font-size: 15px;">javafx</a> <a href="/tags/jvm/" style="font-size: 15px;">jvm</a> <a href="/tags/guava/" style="font-size: 15px;">guava</a> <a href="/tags/groovy/" style="font-size: 15px;">groovy</a> <a href="/tags/junit/" style="font-size: 15px;">junit</a> <a href="/tags/idea/" style="font-size: 15px;">idea</a> <a href="/tags/tomcat/" style="font-size: 15px;">tomcat</a> <a href="/tags/maven/" style="font-size: 15px;">maven</a> <a href="/tags/doclet/" style="font-size: 15px;">doclet</a> <a href="/tags/servlet/" style="font-size: 15px;">servlet</a> <a href="/tags/dubbo/" style="font-size: 15px;">dubbo</a> <a href="/tags/spring/" style="font-size: 15px;">spring</a> <a href="/tags/electron/" style="font-size: 15px;">electron</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/javascript/" style="font-size: 15px;">javascript</a> <a href="/tags/jquery/" style="font-size: 15px;">jquery</a> <a href="/tags/nodejs/" style="font-size: 15px;">nodejs</a> <a href="/tags/typescript/" style="font-size: 15px;">typescript</a> <a href="/tags/webpack/" style="font-size: 15px;">webpack</a> <a href="/tags/ts/" style="font-size: 15px;">ts</a> <a href="/tags/gulp/" style="font-size: 15px;">gulp</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/06/17/linux/Linux-UNIX编程如何保证文件落盘/">Linux/UNIX编程如何保证文件落盘</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/07/db/MongoDB遍历方式对比/">MongoDB遍历方式对比</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/04/java/language/JDK源码阅读-RandomAccessFile/">JDK源码阅读-RandomAccessFile</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/04/java/language/JDK源码阅读-FileOutputStream/">JDK源码阅读-FileOutputStream</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/03/java/language/JDK源码阅读-FileInputStream/">JDK源码阅读-FileInputStream</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/29/java/language/JDK源码阅读-FileDescriptor/">JDK源码阅读-FileDescriptor</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/28/java/debug/JVM堆内存使用率持续上升的一种排查思路/">JVM堆内存使用率持续上升的一种排查思路</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/09/network/AWS-S3-Range下载响应测试/">AWS S3 Range下载响应测试</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/15/db/MongoDB笔记-查询计划/">MongoDB笔记-查询计划</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/23/network/URI-URL与URN的区别/">URI,URL与URN的区别</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> 最近评论</i></div><script type="text/javascript" src="//mushan.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://anotom.com/" title="鑫哥的博客" target="_blank">鑫哥的博客</a><ul></ul><a href="https://www.caylor.cc/" title="乐哥的博客" target="_blank">乐哥的博客</a><ul></ul><a href="http://zach41.github.io/" title="小美的博客" target="_blank">小美的博客</a><ul></ul><a href="http://blog.csdn.net/sinat_25127047" title="瀚文的博客" target="_blank">瀚文的博客</a><ul></ul><a href="http://blog.csdn.net/xiaohangblog?viewmode=contents)" title="小杭的博客" target="_blank">小杭的博客</a><ul></ul><a href="http://bettercuicui.github.io/" title="夏侯的博客" target="_blank">夏侯的博客</a><ul></ul><a href="http://damye.github.io/" title="符尧的博客" target="_blank">符尧的博客</a><ul></ul><a href="http://blog.shrp.me/" title="尚弟的博客" target="_blank">尚弟的博客</a><ul></ul><a href="http://imethan.cn" title="应锋的博客" target="_blank">应锋的博客</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">木杉的博客.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>