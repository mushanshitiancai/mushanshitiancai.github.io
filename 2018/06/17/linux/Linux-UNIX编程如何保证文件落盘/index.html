<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="这是木杉的个人博客"><title>Linux/UNIX编程如何保证文件落盘 | 木杉的博客</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/6.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?ec7ecb4616a008addeb60c9709230453";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();</script></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Linux/UNIX编程如何保证文件落盘</h1><a id="logo" href="/.">木杉的博客</a><p class="description">要么精通，要么死</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Linux/UNIX编程如何保证文件落盘</h1><div class="post-meta">Jun 17, 2018<span> | </span><span class="category"><a href="/categories/Linux/">Linux</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><a data-disqus-identifier="2018/06/17/linux/Linux-UNIX编程如何保证文件落盘/" href="/2018/06/17/linux/Linux-UNIX编程如何保证文件落盘/#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><p>我们编写程序write数据到文件中时，其实数据不会立马写入磁盘，而是会经过层层缓存。每层缓存都有自己的刷新时机，每层缓存都刷新后才会写入磁盘。这些缓存的存在是为了加速读写操作，因为如果每次读写都对应真实磁盘操作，那么读写的效率会大大降低。带来的坏处是如果期间发生掉电或者别的故障，还未写入磁盘的数据就丢失了。对于数据安全敏感的应用，比如数据库，比如交易程序，这是无法忍受的。所以操作系统提供了保证文件落盘的机制。我们来看下这些机制的原理和使用。</p>
<a id="more"></a>
<h2 id="I-O缓冲区机制"><a href="#I-O缓冲区机制" class="headerlink" title="I/O缓冲区机制"></a>I/O缓冲区机制</h2><p><img src="/img/linux/os-buffers.png" alt=""></p>
<p>图片来自：<a href="https://lwn.net/Articles/457667/" target="_blank" rel="noopener">https://lwn.net/Articles/457667/</a></p>
<p>上图说明了操作系统到磁盘的数据流，以及经过的缓冲区。首先数据会先存在于应用的内存空间，如果调用库函数写入，库函数可能还会把数据缓存在库函数所维护的缓冲区空间中，比如C标准库stdio提供的方法就会进行缓存，目的是为了减少系统调用的次数。这两个缓存都是在用户空间中的。库函数缓存刷新时，会调用write系统调用写入内核空间，内核同样维护了一个页缓存（page cache），操作系统会在合适的时间把脏页的数据写入磁盘。即使是写入磁盘了，磁盘也可能维护了一个缓存，在这个时候掉电依然会丢失数据的，只有写入了磁盘的持久存储物理介质上，数据才是真正的落盘了，是安全的。我们接下来就是要研究如何做到这一步。</p>
<h2 id="用户空间缓冲区"><a href="#用户空间缓冲区" class="headerlink" title="用户空间缓冲区"></a>用户空间缓冲区</h2><p>用户空间的缓存分为应用程序本身维护的缓冲区与库维护的缓冲区。</p>
<p>应用本身维护的缓冲区需要开发者自己刷新，调用库函数写入到库函数的缓冲区中。如果应用程序不依赖任何库函数，而是直接使用系统调用，那么则是把数据写入系统的缓冲区去。</p>
<p>库函数一般都会维护缓冲区，目的是简化应用程序的编写，应用程序就不需要编写维护缓冲区的代码，同时性能也得到了提高，因为缓冲区大大减少了系统调用的次数，而系统调用是非常耗时的，系统调用涉及到用户态到内核态的切换，这个切换需要很多的步骤与校验，较为耗时。</p>
<p>比如C标准库stdio就维护着一个缓冲区，对应这个缓冲区，C标准库提供了<code>fflush</code>方法强制把缓冲区数据写入操作系统。</p>
<p>Java的<code>OutputStream</code>接口提供了一个<code>flush</code>方法，具体的作用要看实现类的具体实现。<code>BufferedOutputStream#flush</code>就会把自己维护的缓冲区数据写入下一层的<code>OutputStream</code>。如果是<code>new BufferedOutputStream(new FileOutputStream(&quot;/&quot;))</code>这样的模式，则调用<code>BufferedOutputStream#flush</code>会将数据写入操作系统。</p>
<h2 id="内核缓冲区"><a href="#内核缓冲区" class="headerlink" title="内核缓冲区"></a>内核缓冲区</h2><p>应用程序直接或者通过库函数间接的使用系统调用<code>write</code>将数据写入操作系统缓冲区。</p>
<p>UNIX系统在内核中设有高速缓存或页面高速缓存。目的是为了减少磁盘读写次数。</p>
<p>用户写入系统的数据先写入系统缓冲区，系统缓冲区写满后，将其排入<code>输出队列</code>，然后得到队首时，才进行实际的IO操作。这种输出方式被称为<code>延迟写</code>。</p>
<p>UNIX系统提供了三个系统调用来执行刷新内核缓冲区：<code>sync</code>，<code>fsync</code>，<code>fdatasync</code>。</p>
<h3 id="sync"><a href="#sync" class="headerlink" title="sync"></a>sync</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sync</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br></pre></td></tr></table></figure>
<p><code>sync</code>函数只是将<strong>所有</strong>修改过的块缓冲区排入<code>输出队列</code>就返回，并不等待实际的写磁盘操作返回。</p>
<p>操作系统的<code>update</code>系统守护进程会周期地调用<code>sync</code>函数，来保证系统中的数据能定期落盘。</p>
<p>根据<a href="http://man7.org/linux/man-pages/man2/sync.2.html" target="_blank" rel="noopener">sync(2) - Linux manual page</a>的描述，Linux对<code>sync</code>的实现与POSIX规范不太一样，POSIX规范中，<code>sync</code>可能在文件真正落盘前就返回，而Linux的实现则是文件真正落盘后才会返回。所以Linux中，<code>sync</code>与<code>fsync</code>的效果是一样的！但是1.3.20之前的Linux存在BUG，导致sync并不会在真正落盘后返回。</p>
<h3 id="fsync"><a href="#fsync" class="headerlink" title="fsync"></a>fsync</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fsync</span><span class="params">(<span class="keyword">int</span> filedes)</span></span></span><br></pre></td></tr></table></figure>
<p><code>fsync</code>对指定的文件起作用，它传输内核缓冲区中这个文件的数据到存储设备中，并阻塞直到存储设备响应说数据已经保存好了。</p>
<p><code>fsync</code>对文件数据与文件元数据都有效。文件的元数据可以理解为文件的属性数据，比如文件的更新时间，访问时间，长度等。</p>
<h3 id="fdatasync"><a href="#fdatasync" class="headerlink" title="fdatasync"></a>fdatasync</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fdatasync</span><span class="params">(<span class="keyword">int</span> filedes)</span></span></span><br></pre></td></tr></table></figure>
<p><code>fdatasync</code>和<code>fsync</code>类似，两者的区别是，<code>fdatasync</code>不一定需要刷新文件的元数据部分到存储设备。</p>
<p>是否需要刷新文件的元数据，是要看元数据的变化部分是否对之后的读取有影响，比如文件元数据的访问时间<code>st_atime</code>和修改时间<code>st_mtime</code>变化了，<code>fdatasync</code>不会去刷新元数据数据到存储设备，因为即使这个数据丢失了不一致了，也不影响故障恢复后的文件读取。但是如果文件的长度<code>st_size</code>变化了，那么就需要刷新元数据数据到存储设备。</p>
<p>所以如果你每次都更新文件长度，那么调用<code>fsync</code>和<code>fdatasync</code>的效果是一样的。</p>
<p>但是如果更新能做到不修改文件长度，那么<code>fdatasync</code>能比<code>fsync</code>少了一次磁盘写入，这个是非常大的速度提升。</p>
<h3 id="O-SYNC和O-DSYNC"><a href="#O-SYNC和O-DSYNC" class="headerlink" title="O_SYNC和O_DSYNC"></a><code>O_SYNC</code>和<code>O_DSYNC</code></h3><p>除了上面三个系统调用，<code>open</code>系统调用在打开文件时，可以设置和同步相关的标志位：<code>O_SYNC</code>和<code>O_DSYNC</code>。</p>
<p>设置<code>O_SYNC</code>的效果相当于是每次<code>write</code>后自动调用<code>fsync</code>。</p>
<p>设置<code>O_DSYNC</code>的效果相当于是每次<code>write</code>后自动调用<code>fdatasync</code>。</p>
<h3 id="关于新建文件"><a href="#关于新建文件" class="headerlink" title="关于新建文件"></a>关于新建文件</h3><p>在一个文件上调用<code>fsync</code>/<code>fdatasync</code>只能保证文件本身的数据落盘，但是对于文件系统来说，目录中也保存着文件信息，<code>fsync</code>/<code>fdatasync</code>的调用并不会保证这部分的数据落盘。如果此时发生掉电，这个文件就无法被找到了。</p>
<p>所以对于新建文件来说，还需要在父目录上调用<code>fsync</code>。</p>
<h3 id="关于覆盖现有文件"><a href="#关于覆盖现有文件" class="headerlink" title="关于覆盖现有文件"></a>关于覆盖现有文件</h3><p>覆盖现有文件时，如果发生掉电，新的数据是不会写入成功，但是可能会污染现有的数据，导致现有数据丢失。</p>
<p>所以最佳实践是新建一个临时文件，写入成功后，再替换原有文件。具体步骤：</p>
<ol>
<li>新建一个临时文件</li>
<li>向临时文件写入数据</li>
<li>对临时文件调用<code>fsync</code>，保证数据落盘。期间发生掉电对现有文件无影响。</li>
<li>重命名临时文件为目标文件名</li>
<li>对父目录调用<code>fsync</code></li>
</ol>
<h2 id="存储设备缓冲区"><a href="#存储设备缓冲区" class="headerlink" title="存储设备缓冲区"></a>存储设备缓冲区</h2><p>存储设备为了提高性能，也会加入缓存。高级的存储设备能提供非易失性的缓存，比如有掉电保护的缓存。但是无法对所有设备做出这种保证，所以如果数据只是写入了存储设备的缓存的话，遇到掉电等故障，依然会导致数据丢失。</p>
<p>对于保证数据能保存到存储设备的持久化存储介质上，而不管设备本身是否有易失性缓存，操作系统提供了<code>write barriers</code>这个机制。</p>
<p>开启了<code>write barriers</code>的文件系统，能保证调用<code>fsync</code>/<code>fdatasync</code>数据持久化保存，无论是否发生了掉电等其他故障，但是会导致性能下降。</p>
<p>许多文件系统提供了配置<code>write barriers</code>的功能。比如<code>ext3</code>, <code>ext4</code>, <code>xfs</code> 和 <code>btrfs</code>。<code>mount</code>参数<code>-o barrier</code>表示开启写屏障，调用<code>fsync</code>/<code>fdatasync</code>能保证刷新存储设备的缓存到持久化介质上。<code>-o nobarrier</code>则表示关闭写屏障，调用<code>fsync</code>/<code>fdatasync</code>无法保证数据落盘。</p>
<p>Linux默认开启写屏障，所以默认情况下，我们调用<code>fsync</code>/<code>fdatasync</code>，就可以认为是文件真正的可靠落盘了。</p>
<p>对于这个层面的数据安全保证来说，应用程序是不需要去考虑的，因为如果这台机器的硬盘被挂载为没有开启写屏障，那么可以认为这个管理员知道这个风险，他选择了更高的性能，而不是更高的安全性。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul>
<li>文件数据从应用程序写入磁盘，需要经过多个缓冲区：应用本身的缓冲区，库的缓冲区，操作系统缓冲区，磁盘缓冲区</li>
<li>如果文件数据只是写入缓冲区，而还未写入硬盘的持久化存储设备上，那么断电等故障会导致数据丢失</li>
<li>库层面刷新缓冲区：C标准库的<code>fflush</code>，JDK的<code>OutputStream#flush</code></li>
<li>操作系统层面刷新缓冲区：<ul>
<li><code>fsync</code>可以刷新文件数据+元数据缓冲区</li>
<li><code>fdatasync</code>可以刷新文件数据，在不影响读取的情况下，可以不刷新文件元数据，性能更好一些</li>
<li><code>open</code>系统调用的<code>O_SYNC</code>标志位可以在每次<code>write</code>后自动调用<code>fsync</code></li>
<li><code>open</code>系统调用的<code>O_DSYNC</code>标志位可以在每次<code>write</code>后自动调用<code>fdatasync</code></li>
</ul>
</li>
<li>存储设备层面刷新缓冲区：文件系统支持开启/关闭写屏障<code>write barriers</code>，如果开启写屏障，则<code>fsync</code>/<code>fdatasync</code>可以保证文件写入磁盘的持久化设备中，如果关闭写屏障，则<code>fsync</code>/<code>fdatasync</code>只能保证文件写入磁盘，此时文件可能存在于磁盘的缓存中</li>
</ul>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li>《UNIX环境高级编程》</li>
<li><a href="https://lwn.net/Articles/457667/" target="_blank" rel="noopener">Ensuring data reaches disk</a></li>
<li><a href="https://blog.csdn.net/cywosp/article/details/8767327" target="_blank" rel="noopener">linux 同步IO: sync、fsync与fdatasync - CSDN博客</a></li>
<li><a href="http://man7.org/linux/man-pages/man2/sync.2.html" target="_blank" rel="noopener">sync(2) - Linux manual page</a></li>
<li><a href="http://man7.org/linux/man-pages/man2/fdatasync.2.html" target="_blank" rel="noopener">fsync(2) - Linux manual page</a></li>
<li><a href="https://blog.csdn.net/zbszhangbosen/article/details/7956558" target="_blank" rel="noopener">sync/fsync/fdatasync的简单比较 - CSDN博客</a></li>
<li><a href="http://blog.httrack.com/blog/2013/11/15/everything-you-always-wanted-to-know-about-fsync/" target="_blank" rel="noopener">Everything You Always Wanted To Know About fsync() - xavier roche’s homework</a></li>
<li><a href="http://blog.163.com/digoal@126/blog/static/163877040201132692318242/" target="_blank" rel="noopener">Linux OS: Write Barriers - 德哥@Digoal的日志 - 网易博客</a></li>
<li><a href="https://www.2cto.com/kf/201604/497356.html" target="_blank" rel="noopener">Linux Barrier I/O 实现分析与barrier内存屏蔽分析总结 - 综合编程类其他综合 - 红黑联盟</a></li>
<li><a href="https://docs-old.fedoraproject.org/en-US/Fedora/14/html/Storage_Administration_Guide/writebarr.html" target="_blank" rel="noopener">Chapter 16. Write Barriers</a></li>
<li><a href="https://lwn.net/Articles/283161/" target="_blank" rel="noopener">Barriers and journaling filesystems [LWN.net]</a></li>
</ul>
</div><div class="reward"><hr><div class="text">如果觉得文章对你有帮助，就打赏杯咖啡钱呗😊</div><img src="/img/reward/weixin.png"><img src="/img/reward/alipay.png"></div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://mushanshitiancai.github.io/2018/06/17/linux/Linux-UNIX编程如何保证文件落盘/" data-id="cjkbbazng0043ho312614s4z9" class="article-share-link">分享</a><div class="tags"><a href="/tags/linux/">linux</a><a href="/tags/os/">os</a></div><div class="post-nav"><a href="/2018/06/18/java/language/Java如何保证文件落盘？/" class="pre">Java如何保证文件落盘？</a><a href="/2018/06/07/db/MongoDB遍历方式对比/" class="next">MongoDB遍历方式对比</a></div><div id="disqus_thread"><div class="btn_click_load"><button class="disqus_click_btn">阅读评论 「请确保 disqus.com 可以正常加载」</button></div><script>var disqus_shortname = 'mushan';
var disqus_identifier = '2018/06/17/linux/Linux-UNIX编程如何保证文件落盘/';
var disqus_title = 'Linux/UNIX编程如何保证文件落盘';
var disqus_url = 'http://mushanshitiancai.github.io/2018/06/17/linux/Linux-UNIX编程如何保证文件落盘/';
$('.btn_click_load').click(function() {
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
  $('.btn_click_load').css('display','none');
});
$.ajax({
  url: 'https://disqus.com/favicon.ico',
  timeout: 3000,
  type: 'GET',
  success: (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    $('.btn_click_load').css('display','none');
  })(),
  error: function() {
    $('.btn_click_load').css('display','block');
  }
});</script><script id="dsq-count-scr" src="//mushan.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://mushanshitiancai.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Docker/">Docker</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Java/Groovy/">Groovy</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/JDK源码阅读/">JDK源码阅读</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/Spring/">Spring</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/掌握Java/">掌握Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/调试/">调试</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/TypeScript/">TypeScript</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/MongoDB/">MongoDB</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/RabbitMQ/">RabbitMQ</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tomcat/">Tomcat</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/electron/">electron</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/">web</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/自动化/">自动化</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/自己动手写操作系统/">自己动手写操作系统</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/php/" style="font-size: 15px;">php</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/log/" style="font-size: 15px;">log</a> <a href="/tags/db/" style="font-size: 15px;">db</a> <a href="/tags/mongodb/" style="font-size: 15px;">mongodb</a> <a href="/tags/js/" style="font-size: 15px;">js</a> <a href="/tags/angularjs/" style="font-size: 15px;">angularjs</a> <a href="/tags/react/" style="font-size: 15px;">react</a> <a href="/tags/mmnote/" style="font-size: 15px;">mmnote</a> <a href="/tags/architecture/" style="font-size: 15px;">architecture</a> <a href="/tags/protocol-buffers/" style="font-size: 15px;">protocol-buffers</a> <a href="/tags/blog/" style="font-size: 15px;">blog</a> <a href="/tags/mq/" style="font-size: 15px;">mq</a> <a href="/tags/redis/" style="font-size: 15px;">redis</a> <a href="/tags/tools/" style="font-size: 15px;">tools</a> <a href="/tags/emacs/" style="font-size: 15px;">emacs</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/管理后台/" style="font-size: 15px;">管理后台</a> <a href="/tags/docker/" style="font-size: 15px;">docker</a> <a href="/tags/shell/" style="font-size: 15px;">shell</a> <a href="/tags/vagrant/" style="font-size: 15px;">vagrant</a> <a href="/tags/os/" style="font-size: 15px;">os</a> <a href="/tags/tmux/" style="font-size: 15px;">tmux</a> <a href="/tags/mac/" style="font-size: 15px;">mac</a> <a href="/tags/automation/" style="font-size: 15px;">automation</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/http/" style="font-size: 15px;">http</a> <a href="/tags/bochs/" style="font-size: 15px;">bochs</a> <a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/work/" style="font-size: 15px;">work</a> <a href="/tags/nginx/" style="font-size: 15px;">nginx</a> <a href="/tags/project/" style="font-size: 15px;">project</a> <a href="/tags/software/" style="font-size: 15px;">software</a> <a href="/tags/ffmpeg/" style="font-size: 15px;">ffmpeg</a> <a href="/tags/test/" style="font-size: 15px;">test</a> <a href="/tags/gm/" style="font-size: 15px;">gm</a> <a href="/tags/graphicsmagick/" style="font-size: 15px;">graphicsmagick</a> <a href="/tags/wireshark/" style="font-size: 15px;">wireshark</a> <a href="/tags/vscode/" style="font-size: 15px;">vscode</a> <a href="/tags/web/" style="font-size: 15px;">web</a> <a href="/tags/curl/" style="font-size: 15px;">curl</a> <a href="/tags/jvm/" style="font-size: 15px;">jvm</a> <a href="/tags/javafx/" style="font-size: 15px;">javafx</a> <a href="/tags/guava/" style="font-size: 15px;">guava</a> <a href="/tags/groovy/" style="font-size: 15px;">groovy</a> <a href="/tags/junit/" style="font-size: 15px;">junit</a> <a href="/tags/idea/" style="font-size: 15px;">idea</a> <a href="/tags/tomcat/" style="font-size: 15px;">tomcat</a> <a href="/tags/maven/" style="font-size: 15px;">maven</a> <a href="/tags/doclet/" style="font-size: 15px;">doclet</a> <a href="/tags/log4j/" style="font-size: 15px;">log4j</a> <a href="/tags/servlet/" style="font-size: 15px;">servlet</a> <a href="/tags/dubbo/" style="font-size: 15px;">dubbo</a> <a href="/tags/spring/" style="font-size: 15px;">spring</a> <a href="/tags/electron/" style="font-size: 15px;">electron</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/javascript/" style="font-size: 15px;">javascript</a> <a href="/tags/jquery/" style="font-size: 15px;">jquery</a> <a href="/tags/nodejs/" style="font-size: 15px;">nodejs</a> <a href="/tags/webpack/" style="font-size: 15px;">webpack</a> <a href="/tags/ts/" style="font-size: 15px;">ts</a> <a href="/tags/gulp/" style="font-size: 15px;">gulp</a> <a href="/tags/typescript/" style="font-size: 15px;">typescript</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/08/01/java/language/JDK源码阅读-InterruptibleChannel与可中断IO/">JDK源码阅读-InterruptibleChannel与可中断IO</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/28/java/language/Java日志-Log4j实现运行时修改日志级别/">Java日志-Log4j实现运行时修改日志级别</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/28/java/language/Java日志-Log4j源码分析/">Java日志-Log4j源码分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/22/java/language/Java日志-SLF4J使用与源码分析/">Java日志-SLF4J使用与源码分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/11/os/自己动手写操作系统-计算机通电之后的操作/">自己动手写操作系统-计算机通电之后的操作</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/11/os/Bochs学习-安装配置篇/">Bochs学习-安装配置篇</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/18/java/language/Java如何保证文件落盘？/">Java如何保证文件落盘？</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/17/linux/Linux-UNIX编程如何保证文件落盘/">Linux/UNIX编程如何保证文件落盘</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/07/db/MongoDB遍历方式对比/">MongoDB遍历方式对比</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/04/java/language/JDK源码阅读-RandomAccessFile/">JDK源码阅读-RandomAccessFile</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> 最近评论</i></div><script type="text/javascript" src="//mushan.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://anotom.com/" title="鑫哥的博客" target="_blank">鑫哥的博客</a><ul></ul><a href="https://www.caylor.cc/" title="乐哥的博客" target="_blank">乐哥的博客</a><ul></ul><a href="http://zach41.github.io/" title="小美的博客" target="_blank">小美的博客</a><ul></ul><a href="http://blog.csdn.net/sinat_25127047" title="瀚文的博客" target="_blank">瀚文的博客</a><ul></ul><a href="http://blog.csdn.net/xiaohangblog?viewmode=contents)" title="小杭的博客" target="_blank">小杭的博客</a><ul></ul><a href="http://bettercuicui.github.io/" title="夏侯的博客" target="_blank">夏侯的博客</a><ul></ul><a href="http://damye.github.io/" title="符尧的博客" target="_blank">符尧的博客</a><ul></ul><a href="http://blog.shrp.me/" title="尚弟的博客" target="_blank">尚弟的博客</a><ul></ul><a href="http://imethan.cn" title="应锋的博客" target="_blank">应锋的博客</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">木杉的博客.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>